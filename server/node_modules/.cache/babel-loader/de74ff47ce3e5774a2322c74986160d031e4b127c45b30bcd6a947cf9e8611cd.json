{"ast":null,"code":"const express = require('express');\nconst PostModel = require('../db/post.model');\nconst router = express.Router();\nrouter.get('/', (req, res) => {\n  return PostModel.getAllPost().then(data => {\n    res.send(data);\n  }).catch(err => {\n    res.status(400);\n    res.send(err);\n  });\n});\nrouter.get('/:user', (req, res) => {\n  const user = req.params.user;\n  return PostModel.getAllPostForUser(user).then(data => {\n    res.send(data);\n  }).catch(err => {\n    res.status(400);\n    res.send(err);\n  });\n});\nrouter.post('/', (req, res) => {\n  const test = {\n    content: 'tested content3',\n    username: 'admin3'\n  };\n  return PostModel.createPost(test).then(data => {\n    res.send(data);\n  }).catch(err => {\n    res.status(400);\n    res.send(err);\n  });\n});\nmodule.exports = router;","map":{"version":3,"names":["express","require","PostModel","router","Router","get","req","res","getAllPost","then","data","send","catch","err","status","user","params","getAllPostForUser","post","test","content","username","createPost","module","exports"],"sources":["/Users/jiawenhe/Desktop/22 Fall/Proj3_CS5610/CS5610_Project3/server/api/post.js"],"sourcesContent":["const express = require('express');\n\nconst PostModel = require('../db/post.model');\n\nconst router = express.Router();\n\nrouter.get('/', (req, res) => {\n  return PostModel.getAllPost()\n    .then((data) => {\n      res.send(data);\n    })\n    .catch((err) => {\n      res.status(400);\n      res.send(err);\n    });\n});\n\n\nrouter.get('/:user', (req, res) => {\n  const user = req.params.user;\n\n  return PostModel.getAllPostForUser(user)\n    .then((data) => {\n      res.send(data);\n    })\n    .catch((err) => {\n      res.status(400);\n      res.send(err);\n    });\n});\n\nrouter.post('/', (req, res) => {\n  const test = {\n    content: 'tested content3',\n    username: 'admin3',\n  };\n\n  return PostModel.createPost(test)\n    .then((data) => {\n      res.send(data);\n    })\n    .catch((err) => {\n      res.status(400);\n      res.send(err);\n    });\n});\n\nmodule.exports = router;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAElC,MAAMC,SAAS,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AAE7C,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAM,EAAE;AAE/BD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC5B,OAAOL,SAAS,CAACM,UAAU,EAAE,CAC1BC,IAAI,CAAEC,IAAI,IAAK;IACdH,GAAG,CAACI,IAAI,CAACD,IAAI,CAAC;EAChB,CAAC,CAAC,CACDE,KAAK,CAAEC,GAAG,IAAK;IACdN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC;IACfP,GAAG,CAACI,IAAI,CAACE,GAAG,CAAC;EACf,CAAC,CAAC;AACN,CAAC,CAAC;AAGFV,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACjC,MAAMQ,IAAI,GAAGT,GAAG,CAACU,MAAM,CAACD,IAAI;EAE5B,OAAOb,SAAS,CAACe,iBAAiB,CAACF,IAAI,CAAC,CACrCN,IAAI,CAAEC,IAAI,IAAK;IACdH,GAAG,CAACI,IAAI,CAACD,IAAI,CAAC;EAChB,CAAC,CAAC,CACDE,KAAK,CAAEC,GAAG,IAAK;IACdN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC;IACfP,GAAG,CAACI,IAAI,CAACE,GAAG,CAAC;EACf,CAAC,CAAC;AACN,CAAC,CAAC;AAEFV,MAAM,CAACe,IAAI,CAAC,GAAG,EAAE,CAACZ,GAAG,EAAEC,GAAG,KAAK;EAC7B,MAAMY,IAAI,GAAG;IACXC,OAAO,EAAE,iBAAiB;IAC1BC,QAAQ,EAAE;EACZ,CAAC;EAED,OAAOnB,SAAS,CAACoB,UAAU,CAACH,IAAI,CAAC,CAC9BV,IAAI,CAAEC,IAAI,IAAK;IACdH,GAAG,CAACI,IAAI,CAACD,IAAI,CAAC;EAChB,CAAC,CAAC,CACDE,KAAK,CAAEC,GAAG,IAAK;IACdN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC;IACfP,GAAG,CAACI,IAAI,CAACE,GAAG,CAAC;EACf,CAAC,CAAC;AACN,CAAC,CAAC;AAEFU,MAAM,CAACC,OAAO,GAAGrB,MAAM"},"metadata":{},"sourceType":"script","externalDependencies":[]}